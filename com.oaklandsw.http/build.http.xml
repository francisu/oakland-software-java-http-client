<project default="http" basedir=".">


    <!-- Provided for customers to build the HTTP client source -->
    
  <!-- =================================================================== -->
  <!-- Initialization target                                               -->
  <!-- =================================================================== -->
  <target name="init">
    <tstamp/>

    <property name="src.dir" value="./src"/>
    <property name="classes.dir" value="./classes"/>
    <property name="outdocs.dir" value="./outdocs"/>
    <property name="javadocs.dir" value="./javadocs"/>

    <property name="java.src.dir" value="${src.dir}"/>

    <property name="classes.prod.dir" value="${classes.dir}/"/>

    <property name="jar.http.name" value="http"/>
    <property name="java.http.name" value="Oakland Software HTTP Client"/>
    <property name="java.http.shortname" value="http"/>
    <property name="http.productId" value="16"/>
    <property name="javadoc.packages" value="com.oaklandsw.util.*,com.oaklandsw.http.*"/>

    <property name="java.target" value="1.2"/>
    <property name="debug" value="on"/>
    <property name="optimize" value="off"/>
    <property name="deprecation" value="off"/>

		<path id="compile.classpath">
			<fileset dir="${basedir}">
				<include name="*.jar" />
			</fileset>
		</path>

        </target>

  <!-- =================================================================== -->
  <!-- short target names                                                  -->
  <!-- =================================================================== -->
  <target name="http" depends="package-java, javadocs">
  </target>


  <!-- =================================================================== -->
  <!-- prepare java source dirs                                            -->
  <!-- =================================================================== -->
  <target name="prepare-src" depends="init">
    <mkdir dir="${classes.dir}"/>
  </target>


  <!-- =================================================================== -->
  <!-- Java compile                                                        -->
  <!-- =================================================================== -->
  <target name="compile-java" depends="prepare-src">
    <javac srcdir="${java.src.dir}" excludes="${java.excludes}"
        destdir="${classes.dir}" target="${java.target}" optimize="${optimize}"
        deprecation="${deprecation}">
        <classpath refid="compile.classpath"/>
    </javac>
    
		   
  </target>


  <!-- =================================================================== -->
  <!-- Creates the API documentation                                       -->
  <!-- =================================================================== -->
  <target name="javadocs" depends="prepare-src">
    <mkdir dir="${javadocs.dir}"/>
    <javadoc sourcepath="${java.src.dir}"
             destdir="${javadocs.dir}"
             access="public"
             windowtitle="${java.http.name} API"
             doctitle="${java.http.name}"
             bottom="Copyright &#169; 2002-2006 Oakland Software Incorporated. All Rights Reserved."
    >
      <fileset dir="${java.src.dir}" defaultexcludes="yes">
        <include name="com/oaklandsw/http/HttpURLConnection.java" />
        <include name="com/oaklandsw/http/HttpConnectionManager.java" />
        <include name="com/oaklandsw/http/URIException.java" />
        <include name="com/oaklandsw/http/HttpException.java" />
        <include name="com/oaklandsw/http/HttpTimeoutException.java" />
        <include name="com/oaklandsw/http/HttpUserAgent.java" />
        <include name="com/oaklandsw/http/Credential.java" />
        <include name="com/oaklandsw/http/UserCredential.java" />
        <include name="com/oaklandsw/http/NtlmCredential.java" />
        <include name="com/oaklandsw/http/HostnameVerifier.java" />
        <include name="com/oaklandsw/http/Cookie.java" />
        <include name="com/oaklandsw/http/CookieContainer.java" />
        <include name="com/oaklandsw/http/CookiePolicy.java" />
		<include name="com/oaklandsw/http/ntlm/Ntlm.java" />
      </fileset>
      </javadoc>
  </target>


  <!-- =================================================================== -->
  <!-- Creates the class package                                           -->
  <!-- =================================================================== -->
  <target name="package-java" depends="compile-java">
    <jar jarfile="${jar.http.name}.jar"
         basedir="${classes.dir}"
         includes="com/oaklandsw/http/**,com/oaklandsw/util/**"/>
  </target>


	
  <!-- =================================================================== -->
  <!-- clean						                                      -->
  <!-- =================================================================== -->
  <target name="clean" depends="init">
    <delete includeEmptyDirs="true"> 
      <fileset dir="${classes.dir}" includes="**/*" defaultexcludes="no"/> 
    </delete> 
  </target>

</project>

<!-- End of file -->
